# v1.0.0

## 发布日期
2026 年 1 月 5 日

## 概览
这是一次重大版本发布，引入了多项强大的新功能，包括 Model Service、ROCK Install Agent、Remote User 管理等, 同时还包含显著的性能提升、系统优化与更强的可观测性能力。

---

## SDK

### 新功能

#### Model Service
**[Model Service 参考文档](../References/model-service.md)**

提供完整的模型服务能力，包括：
- 支持文件处理器的本地模型服务器
- 用于无缝交互的模型客户端
- 支持模型请求代理（Proxy）
- 通过 CLI 参数按“类型”选择模型
- 与 SWE Agent 安装并发初始化
- 用于线程安全操作的锁机制


#### Sandbox Agent
**[Sandbox Agent 参考文档](../References/sandbox-agent.md)**

用于在ROCK的Sandbox中快速安装Agent的功能：
- 简易的 Agent 安装接口
- 与Model-Service快速集成的能力
- 支持多种类型的Agent在隔离的沙箱环境中本地运行


#### 沙箱加速 (Sandbox Speedup)
**[沙箱加速参考文档](../References/Python SDK References/python_sdk.md)**

提供针对沙箱环境的网络优化与镜像配置能力：
- 支持一键配置 APT 公共镜像源
- 支持 PIP 镜像源加速（自动处理 HTTP/HTTPS 协议及信任主机配置）
- 通过 Hosts 映射实现 GitHub 访问加速
- 采用非侵入式配置，仅优化源地址而不强制执行安装
- 基于策略（Strategy）的 URL 自动解析与标准化逻辑
---

### 增强

#### Environment Builder
- 新增 `build_remote` 参数，用于远程环境构建
- 更新超时配置，提供更好的控制能力
- 在 `arun` 的 ignore_output 中增强文件大小信息展示

#### 性能优化
- 优化 PID 提取逻辑，使用兼容 bash 的模式
- 提升 `arun` 方法性能
- 改进文件处理相关操作

#### API 改进
- 为运行 API execute 操作增加更多可选变量
- 增强请求/响应处理
- 改进错误报告，包含文件大小细节
- 在`start` 方法中根据透传的异常码优化返回错误类型

---

### Bug 修复
- 修复 PID 提取逻辑，改用兼容 bash 的模式
- 修正 PIPE 重定向策略
- 修复写集群（write cluster）操作的状态获取
- 改进服务启动失败时的异常处理

---

## Admin

### 新功能

#### 增强的可观测性
- 为过期的时间线（timelines）增加 OpenTelemetry 指标清理
- 为测试用例提供内存指标读取器（in-memory metric reader）
- 增强 Model Service 操作日志
- 将 pod 信息加入 OpenTelemetry 指标的基础标签中 
- 增加集群维度的ray资源指标监控

#### 系统改进
- 支持只读挂载路径（read-only mount path），提升安全性
- 增强写集群状态获取
- 改进服务启动异常处理
- 运行配置中增加sandbox标准规格与上限规格
- 增强了 HTTP 层的异常处理器，确保错误码能够正确传播到上层调用方

---

### 增强

#### Actor 系统
- 重构 actor 的 pip 依赖以便更好管理
- 增强 actor 依赖更新机制
- 改进 actor 初始化流程
- 创建 Actor 时，同步部署配置中的资源需求至 Ray 集群

#### 镜像管理
- Image Mirror 增强重试支持
- 改进镜像构建并支持实验 ID 追踪
- 升级镜像标签管理

---

### Bug 修复
- 修复写集群操作的状态获取
- 修正 PIPE 重定向策略
- 改进服务启动失败时的异常处理

---

## 全局系统变更

### 重构
- 将 `is_absolute_db_path` 移至 database 模块
- 移除未使用的 API key 并清理测试
- 移除冗余的 `DockerDeploymentConfig` 导入

### 日志改进
- 更新 logger 格式以提升可读性
- 为 Sandbox 类增加 `__str__` 与 `__repr__` 方法
- 在 `init_logger` 中阻止 logger 传播（propagation）
- 为 CLI 的配置加载增加日志

### CLI 增强
- 增加系统资源限制
- 增强 EnvHub 预检查功能
- 改进 CLI 命令结构与组织

### 文档
- 增加全面的发布说明
- 创建 ROCK & ROLL 快速入门指南
- 增强 GitHub Actions CI 工作流
- 改进 Issue 模板以便更好地报告 Bug
- 增加 GitHub 指标统计页面

### 测试
- 使用内存指标读取器优化测试用例
- 增强新功能测试覆盖率
- 改进测试加载器路径解析

---

## 已知问题
- 目前暂无

## 贡献者
感谢所有为本次发布做出贡献的贡献者！

## 下一步计划
- 增强文档与教程
- 进一步的性能优化与 Bug 修复